<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../../WEB-INF/template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">

        <h:form id="formNew">
            <p:growl id="growl"  showSummary="false" showDetail="true" autoUpdate="true" />          
            <p:toolbar id="toolbar" styleClass="topToolbar">
                <f:facet name="left">
                    <p:button id="btnReturn" value="返回" outcome="itempool" icon="ui-icon-arrowreturn-1-w"/> 
                </f:facet>
                <f:facet name="right">
                    <p:commandButton id="btnPersist" value="保存" action="#{itemPoolManagedBean.persist()}" icon="ui-icon-disk"  
                                     process="@this,plgNew" update="plgNew"/>
                </f:facet>
            </p:toolbar>  
            <p:panel id="panelNew" header="考试题目－新增">
                <p:panelGrid id="plgNew"  styleClass="plgNew Wid100">
                    <p:row>
                        <p:column styleClass="Wid20"><p:outputLabel value="考试科目" for="examcategory" /></p:column>
                        <p:column styleClass="Wid30">
                            <p:selectOneMenu id="examcategory" value="#{itemPoolManagedBean.newEntity.examcategory}" 
                                             converter="examCategoryConverter" required="true" requiredMessage="科目不能空白">
                                <f:selectItem itemLabel="Select One" itemValue="" /> 
                                <f:selectItems value="#{itemPoolManagedBean.examCategoryList}" var="e" itemLabel="#{e.name}" itemValue="#{e}"/>
                            </p:selectOneMenu> 
                        </p:column>
                        <p:column styleClass="Wid20"><p:outputLabel value="题型" for="itemcategory" /></p:column>
                        <p:column styleClass="Wid30">
                            <p:selectOneMenu id="itemcategory" value="#{itemPoolManagedBean.newEntity.itemcategory}" 
                                             converter="itemCategoryConverter" required="true" requiredMessage="题型不能空白">
                                <f:selectItem itemLabel="Select One" itemValue="" /> 
                                <f:selectItems value="#{itemPoolManagedBean.itemCategoryList}" var="i" itemLabel="#{i.name}" itemValue="#{i}"/>
                            </p:selectOneMenu>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column><p:outputLabel value="知识点" for="knowledge" /></p:column>
                        <p:column>
                            <p:selectOneMenu id="knowledge" value="#{itemPoolManagedBean.newEntity.knowledge}" 
                                             converter="knowledgeConverter" required="true" requiredMessage="知识点不能空白">
                                <f:selectItem itemLabel="Select One" itemValue="" /> 
                                <f:selectItems value="#{itemPoolManagedBean.knowledgeList}" var="k" itemLabel="#{k.name}" itemValue="#{k}"/>
                            </p:selectOneMenu>
                        </p:column>
                        <p:column></p:column>
                        <p:column></p:column>
                    </p:row>
                    <p:row>
                        <p:column><p:outputLabel value="题目" for="knowledge" /></p:column>
                        <p:column colspan="3">
                            <p:inputTextarea rows="4" placeholder="输入题目内容" value="#{itemPoolManagedBean.newEntity.question}" style="width:95%;"
                                             required="true" requiredMessage="题目内容不能空白"/>
                        </p:column> 
                    </p:row>
                    <p:row>
                        <p:column><p:outputLabel value="选项1" for="choice1"/></p:column>
                        <p:column colspan="2">
                            <p:inputText id="choice1" value="#{itemPoolManagedBean.newEntity.choice1}"
                                         required="true" requiredMessage="必须有一对答案"/>
                        </p:column>
                        <p:column>
                            <p:selectOneRadio id="key1" value="#{itemPoolManagedBean.newEntity.key1}">
                                <f:selectItem itemLabel="正确答案" itemValue="true" />
                                <f:selectItem itemLabel="不是答案" itemValue="false" />
                            </p:selectOneRadio>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column><p:outputLabel value="选项2" for="choice2"/></p:column>
                        <p:column colspan="2">
                            <p:inputText id="choice2" value="#{itemPoolManagedBean.newEntity.choice2}"
                                         required="true" requiredMessage="必须有一对答案"/>
                        </p:column>
                        <p:column>
                            <p:selectOneRadio id="key2" value="#{itemPoolManagedBean.newEntity.key2}">
                                <f:selectItem itemLabel="正确答案" itemValue="true" />
                                <f:selectItem itemLabel="不是答案" itemValue="false" />
                            </p:selectOneRadio>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column><p:outputLabel value="选项3" for="choice3"/></p:column>
                        <p:column colspan="2">
                            <p:inputText id="choice3" value="#{itemPoolManagedBean.newEntity.choice3}"/>
                        </p:column>
                        <p:column>
                            <p:selectOneRadio id="key3" value="#{itemPoolManagedBean.newEntity.key3}">
                                <f:selectItem itemLabel="正确答案" itemValue="true" />
                                <f:selectItem itemLabel="不是答案" itemValue="false" />
                            </p:selectOneRadio>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column><p:outputLabel value="选项4" for="choice4"/></p:column>
                        <p:column colspan="2">
                            <p:inputText id="choice4" value="#{itemPoolManagedBean.newEntity.choice4}"/>
                        </p:column>
                        <p:column>
                            <p:selectOneRadio id="key4" value="#{itemPoolManagedBean.newEntity.key4}">
                                <f:selectItem itemLabel="正确答案" itemValue="true" />
                                <f:selectItem itemLabel="不是答案" itemValue="false" />
                            </p:selectOneRadio>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column><p:outputLabel value="选项5" for="choice5"/></p:column>
                        <p:column colspan="2">
                            <p:inputText id="choice5" value="#{itemPoolManagedBean.newEntity.choice5}"/>
                        </p:column>
                        <p:column>
                            <p:selectOneRadio id="key5" value="#{itemPoolManagedBean.newEntity.key5}">
                                <f:selectItem itemLabel="正确答案" itemValue="true" />
                                <f:selectItem itemLabel="不是答案" itemValue="false" />
                            </p:selectOneRadio>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column><p:outputLabel value="选项6" for="choice6"/></p:column>
                        <p:column colspan="2">
                            <p:inputText id="choice6" value="#{itemPoolManagedBean.newEntity.choice6}"/>
                        </p:column>
                        <p:column>
                            <p:selectOneRadio id="key6" value="#{itemPoolManagedBean.newEntity.key6}">
                                <f:selectItem itemLabel="正确答案" itemValue="true" />
                                <f:selectItem itemLabel="不是答案" itemValue="false" />
                            </p:selectOneRadio>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column><p:outputLabel value="选项7" for="choice7"/></p:column>
                        <p:column colspan="2">
                            <p:inputText id="choice7" value="#{itemPoolManagedBean.newEntity.choice7}"/>
                        </p:column>
                        <p:column>
                            <p:selectOneRadio id="key7" value="#{itemPoolManagedBean.newEntity.key7}">
                                <f:selectItem itemLabel="正确答案" itemValue="true" />
                                <f:selectItem itemLabel="不是答案" itemValue="false" />
                            </p:selectOneRadio>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column><p:outputLabel value="选项8" for="choice8"/></p:column>
                        <p:column colspan="2">
                            <p:inputText id="choice8" value="#{itemPoolManagedBean.newEntity.choice8}"/>
                        </p:column>
                        <p:column>
                            <p:selectOneRadio id="key8" value="#{itemPoolManagedBean.newEntity.key8}">
                                <f:selectItem itemLabel="正确答案" itemValue="true" />
                                <f:selectItem itemLabel="不是答案" itemValue="false" />
                            </p:selectOneRadio>
                        </p:column>
                    </p:row>
                </p:panelGrid>
            </p:panel>
        </h:form>

    </ui:define>

</ui:composition>
